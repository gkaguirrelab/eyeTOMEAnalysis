

subjects = {'TOME_3001','TOME_3002','TOME_3003','TOME_3004','TOME_3005','TOME_3007','TOME_3008','TOME_3009','TOME_3011','TOME_3012','TOME_3013','TOME_3014','TOME_3015','TOME_3016','TOME_3017','TOME_3018','TOME_3019','TOME_3020','TOME_3021','TOME_3022','TOME_3023','TOME_3024','TOME_3025','TOME_3026','TOME_3028','TOME_3029','TOME_3030','TOME_3031','TOME_3032','TOME_3033','TOME_3034','TOME_3035','TOME_3036','TOME_3037','TOME_3038','TOME_3039','TOME_3040','TOME_3042','TOME_3043'};
axialLength = [24.49	25.15	27.52	24.03	22.76	23.91	26.05	24.9	23.89	24.92	27.49	24.79	23.45	22.69	22.9	23.54	25.35	25.35	25.29	22.64	26.54	25.47	24.18	25.35	23.45	22.44	22.88	24.06	23.38	23.73	24.01	24.5	25.7	23.56	26.24	23.39	22.11	24.23	21.89];
sphericalAmetropia = [-3.25	-1.75	-7.5	NaN	-0.5	-0.75	-8.5	-3.75	-5.25	-2	-10.25	-2	-0.5	-1.25	0.75	-0.5	-0.5	-1.5	-5.25	0	-6	-2	-0.75	-5	-0.75	0.5	0.25	-0.25	0	-0.25	-1.75	0.25	-5.25	-1	-6.25	-0.5	0.25	-1.5	3.5];
cornealCurvature = {{[43.32,44.47,23]},{[41.77,43.55,25]},{[41.56,42.35,5]},{[]},{[45.30,46.23,8]},{[]},{[]},{[44.23,44.94,156]},{[45.79,46.68,0]},{[]},{[41.62,43.66,174]},{[]},{[]},{[]},{[]},{[]},{[]},{[41.36,41.67,25]},{[]},{[]},{[]},{[]},{[42.08,42.83,161]},{[]},{[44.35,45.36,4]},{[43.49,44.64,3]},{[45.42,45.42,42]},{[42.03,42.51,1]},{[42.61,43.72,173]},{[42.67,43.05,18]},{[45.49,45.86,166]},{[41.21,42.29,178]},{[41.87,42.72,26]},{[45.61,45.86,48]},{[46.87,47.34,163]},{[43.66,44.64,178]},{[45.92,47.14,17]},{[42.72,45.06,172]},{[43.38, 43.95, 166]}};

for ii=1:length(subjects)
    cc = cornealCurvature{ii};
    if ~isempty(cc)
        cc = cc{:};
    end
    SR = sphericalAmetropia(ii);
    if isnan(SR)
        SR=[];
    end
    eye = modelEyeParameters('axialLength',axialLength(ii),'sphericalAmetropia',SR,'measuredCornealCurvature',cc);
    
    % Report this value
    fprintf([subjects{ii} ': %2.2f mm nodal point distance\n'],eye.meta.axialLength+eye.meta.nodalPoint(1));
end

